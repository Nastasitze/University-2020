**Министерство науки и высшего образования Российской Федерации**

**Федеральное государственное бюджетное образовательное учреждение высшего образования**

**«Костромской государственный университет» (КГУ)**

**Институт автоматизированных систем и технологий**

**Направление подготовки: 09.03.02 Информационные системы и технологии**

**Профиль: Информационнные системы и технологии в медиаиндустрии**

**Выполнил студент: Дударева А.Д.**

**Номер группы: 20-ИМбо-3**

**Номер студента: 05**

**Лабораторная работа № 8** 

**Тема: "Скрипты командной оболочки в Linux_2"**

-----
#### Раздел 1. Перечень команд
> **sudo su** - получили права суперпользователя;

> **/home/dudsmir/scr2.sh** - создали пустой файл *scr2.sh* для скрипта в каталоге */home/dudsmir*;
> 
> **chmod +x ./scr2.sh** - сделали файл со скриптом *scr2.sh* исполняемым;

> **mc** - запуск Midnight Commander;

 ```javascript 
 #!/bin/bash    /* указываем оболочку первой строкой внутри файла скрипта, которую мы собираемся использовать */
 if [-n "$1"]   /* проверяем условие наличия вводимого параметра */
 then           /* если вводимый параметр присутствует, мы проверяем, был ли создан пользователь с данным именем. */
 
     if grep -q -w $1 /etc/passwd   /* Причем мы ищем строку с именем пользователя в файле passwd; -q - не выводим результат поиска в командную строку */
     then                           /* -w file - проверяет, существует ли файл, и доступен ли он для записи */
         grep -w $1 /var/log/auth.log | awk {'x=$6" "$7; if ( x == "New session") {print $1, $2, $3}'} /* если такой пользователь существует,*/
         /* то в файле auth.log и ищем строки, содержащие информацию об открытии сессии: */
         /* x=$6" "$7; - где $6 - 6-ое слово в строке; и $7 - 7-ое слово в строке.*/
         /* if ( x == "New session") - если получившаяся строка x равна "New session", т. е. пользователь вошел в сессию, то */
         /* {print $1, $2, $3} - выводим данные о входе, которые содержат $1 - месяц, $2 - число месяца, $3 - время входа. */
     else
         echo "$1 doesnt exsist" /* обработка исключения и вывод сообщения, когда пользователь не был найдет в системе */
     fi
     
 else
     echo "input is null"  /* обработка исключения и вывод сообщения, когда скрипт был вызван без параметра */
 fi
  ```

> **./scr2.sh dudsmir** - вызов скрипта с параметром *dudsmir*;

-----
#### Раздел 2. Ответы на вопросы
-----
#### Раздел 3. Выводы
-----

Таким образом, получили опыт написания сценариев командной строки, написанные для оболочки bash в
Linux, для вывода даты и времени сессий конкретных пользователей.