**Министерство науки и высшего образования Российской Федерации**

**Федеральное государственное бюджетное образовательное учреждение высшего образования**

**«Костромской государственный университет» (КГУ)**

**Институт автоматизированных систем и технологий**

**Направление подготовки: 09.03.02 Информационные системы и технологии**

**Профиль: Информационнные системы и технологии в медиаиндустрии**

**Выполнил студент: Дударева А.Д.**

**Номер группы: 20-ИМбо-3**

**Номер студента: 05**

**Лабораторная работа № 5** 

**Тема: "Основы работы с сетью в Linux"**

---

#### Раздел 1. Перечень команд

---
> **Создали клон основной виртуальной машины.**

> **sudo su** - получили права суперпользователя у VM1;

> **ip a** - посмотрели, какие устройства есть в системе VM1. Получили, что у адаптера enp0s8 нет IP-адреса;

> **vi /etc/netplan/02-networkd.yaml** - редактируем содержимое файла с расширением yaml (данный файл находится по пути /etc/netplan/1-network-manager-all.yaml);

>  **Дополним содержалие файла:**  
```
network:  
  version: 2  
  renderer: NetworkManager 
  ethernets:  
    enp0s8:  
      dhcp4: no  
      addresses: [ 192.168.111.0/24 ]  /*сетевой адрес с маской /24, который присваивается нашей сетевой карте*/
      gateway4: 192.168.111.10  /*задает адрес роутера, через который компьютер сможет получить доступ в интернет*/
      nameservers:  
        addresses: [ 8.8.8.8, 8.8.4.4 ]  
```

> **netplan generate** - проверим конфигурационный файл на ошибки и создать файлы конфигурации программы-обработчика; 

> **netplan --debug apply** -  применяем конфигурацию;

> **apt install isc-dhcp-server** - установили пакет isc-dhcp-server;

> **nano /etc/default/isc-dhcp-server** - отредактировали файл, вписав в INTERFACESv4 наш адаптер enp0s8:
```
INTERFACESv4="enp0s8"
INTERFACESv6=""
```

> **cp /etc/dhcp/dhcpd.conf{,.backup}  
> cat /dev/null > /etc/dhcp/dhcpd.conf** - сделали резервную копию конфигурационного файла;

> **mc** - используем midnight commander для редактирования файл /etc/dhcp/dhcpd.conf;
```
subnet 192.168.111.0 netmask 255.255.255.0 {
 range 192.168.111.11 192.168.111.254;
 option subnet-mask 255.255.255.0;
 option broadcast-address 192.168.111.255;
 option domain-name-servers 8.8.8.8, 8.8.4.4;
 option domain-name "workgroup";
 option routers 192.168.111.10;
 default-lease-time 7200;
 max-lease-time 480000;
 }
```

> **systemctl restart isc-dhcp-server** -  перезапустили сервер dhcp, чтобы применить новую конфигурацию;

> **systemctl status isc-dhcp-server** - проверили статус службы;

> **mc** - используем midnight commander для редактирования файл /etc/dhcp/dhcpd.conf;
 ```
subnet 192.168.111.0 netmask 255.255.255.0 {
 range 192.168.111.11 192.168.111.254;
 option subnet-mask 255.255.255.0;
 option broadcast-address 192.168.111.255;
 option domain-name-servers 8.8.8.8, 8.8.4.4;
 option domain-name "workgroup";
 option routers 192.168.111.10;
 default-lease-time 7200;
 max-lease-time 480000;
 
 /*Дописали данный фрагмент:*/
 host ds {
  hardware ethernet 08:60:6e:d6:5e:ff;
  fixed-address 192.168.38.5;}
 }
```
> **systemctl restart isc-dhcp-server** -  перезапустили сервер dhcp, чтобы применить новую конфигурацию;

---

#### Раздел 2. Ответы на вопросы

---

#### Раздел 3. Выводы

---

Таким образом, мы получили опыт в клонировании виртуальной машины и осуществления первичной настройки
сети в среде виртуализации Oracle VirtualBox, а также в осуществлении первичной настройки сети с помощью netplan, DHCP-сервера на ОС Linux.
